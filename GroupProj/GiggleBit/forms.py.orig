from django import forms
<<<<<<< HEAD
from GiggleBit.models import userprofile ,Image
=======
from GiggleBit.models import Image
from GiggleBit.models import Category
>>>>>>> 172565c757f0c559284c1560adfda041b04a557f

class ImageForm(forms.ModelForm):
    name = forms.CharField(max_length=128, help_text="Please enter the image name.")
    views = forms.IntegerField(widget=forms.HiddenInput(), initial=0)
    likes = forms.IntegerField(widget=forms.HiddenInput(), initial=0)
    category = forms.CharField(help_text="Enter tildes for this image! Like this: ~easy ~peasy ~definately ~a ~buy ")
    picture = forms.ImageField()

    class Meta:
        model = Image
<<<<<<< HEAD

class UserProfileForm(forms.ModelForm):
    class Meta:
        model = userprofile
        fields = ('bio', 'profile_pic')
=======
        fields = ('name', 'picture', 'category',)

    def clean(self):
        cleaned_data = self.cleaned_data
        category = cleaned_data.get('category')
        category = category.strip(',')
        category = category.split()
        passingtildes = []
        for tilde in category:
            if tilde[0] == '~':
                ##add to actual categories
                passingtildes.append(tilde[1:])
        category = passingtildes #now have list of categories we wish image to have
        imagecats = []
        for tildes in category:
            imagecats += [Category.objects.get_or_create(name=tildes, views=0)]
        category = imagecats
        return self.cleaned_data #plswork
    
            
        
                 
                 
>>>>>>> 172565c757f0c559284c1560adfda041b04a557f
